# core concepts:
1.带内阻的电源
	1.1 源关联参考方向
	1.2 戴维南等效和诺顿等效
	1.3 额定功率与最大功率传输匹配条件
2.对偶原理（⭐️⭐️⭐️）
3.等效电路
4.单端口等效
	4.1 加压求流、加流求压获得等效电路
	4.2 替代定理（⭐️）
	4.3 叠加定理（⭐️）
	4.4 戴维南-诺顿定理（⭐️）
5.二端口等效
	5.1 加压求流、加流求压获得等效电路
	5.2 二端口网络戴维南-诺顿定理（⭐️）
	5.3 受控源（⭐️⭐️⭐️）
6二极管

# 一.带电阻的电源
## 源关联参考方向：
如果确定这是一个电源，端口电压和端口电流按源关联参考方向定义其参考方向，源关联参考方向和阻关联参考方向是相反的，需要格外注意。
## 电源内阻：
实际电源伏安特性曲线偏离理想电压源或理想电流源的伏安特性曲线，这种偏离被建模为电源内阻。
以一个直线伏安特性曲线的有阻电源为例：
$f(x,i)= \frac{v}{V_{S0}}+\frac{i}{I_{S0}}-1=0$ ，可以转换为流控形式，也可以转换为压控形式：
### 流控形式下：
$v=V_{S0}-i·R_S,where \quad R_S =\frac{V_{S0}}{I_{S0}}$（这是数学语言描述，转化成电路语言就是一个串联内阻的恒电压源）：
![[Pasted image 20240312122124.png]]
NOTICE:这里的$V_{R_S}$是个负值($-i·R_S$)的原因是**这个电路的电流方向是根据源参考方向定义的，和阻参考方向相反**，因此**电阻上的电流是取$-i$**  
这是有内阻电源的**戴维南等效**，也就是流控形式等效电路
### 压控形式下：
$i=I_{S0}-v·G_S,where\quad G_S=\frac{I_{S0}}{V_{S0}}$（转换为电路语言就是一个并联内阻的恒流源）
![[Pasted image 20240312153301.png]]
NOTICE:这里的$I_{R_S}$是一个负值$-v·R_S$，原因和上面一样：是因为**这个电路的电流方向是根据源参考方向定义的，和阻参考方向相反**，所以电导上面的电压取$-v$
这是有内阻电源的**诺顿等效**，也就是压控形式等效电路

PS：其实无论是戴维南还是诺顿等效，两者描述的都是同一个电路（端口电压电流关系是一样的，只是表达方式不同而已）

## 直流源和交流源的额定功率：
![[Pasted image 20240312154115.png]]
分析这个电路的负载获得的功率：
$$\begin{aligned}&v=iR_{L}=\frac{R_{L}}{R_{S}+R_{L}}v_{S}\\
&p_{L}=vi=\frac{v^{2}}{R_{L}}=i^{2}R_{L}=\frac{R_{L}}{(R_{S}+R_{L})^{2}}\:v_{S}^{2}\\
&平均功率:P_{L}=\overline{p_{L}}=\frac{R_{L}}{(R_{S}+R_{L})^{2}}\overline{{{v_{S}^{2}}}}=\frac{R_{L}}{(R_{S}+R_{L})^{2}}V_{Srms}^{2}\\
&\therefore P_{L}=\overline{p_{L}}=\frac{R_{L}}{(R_{S}+R_{L})^{2}}V_{Sr}^{2}\leq\frac{R_{L}}{\left(2\sqrt{R_{S}R_{L}}\right)^{2}}V_{Srms}^{2}=\frac{V_{Srms}^{2}}{4R_{S}}=P_{Smax}
\end{aligned}$$
这里的$\frac{V_{Srms}^{2}}{4R_{S}}=P_{Smax}$称为**额定功率**，而等号取得的条件是$R_S=R_L$（外接的负载电阻等于电源内阻），这个条件称为**最大功率传输匹配条件**
$$\begin{aligned}&电源额定功率:P_{S,\max}=\frac14\frac{V_{S,rms}^2}{R_S}\\
&直流电源:P_{S,\max}=\frac14\frac{V_{S0}^2}{R_S}\\
&正弦波电源:P_{S,\max}=\frac18\frac{V_{S,p}^2}{R_S}\quad V_{S,p}\text{是正弦波的峰值电压}\end{aligned}$$
电源的额定功率代表了电源的驱动能力，源的驱动能力大小由源幅度（有效电压或者有效电流）和内阻共同决定
# 二.对偶原理
电路中的对偶量互换，数学表达式不变（端口伏安特性表达形式不变，是同一功能的电路系统）
![[Pasted image 20240312155306.png]]
严格来说结点和网络是对偶的，但是一般来说可以直接认为结点和回路是对偶的。
## 对偶电路的实例：
### 串联RLC和并联RLC（并联GCL）
![[Pasted image 20240312155448.png]]
串臂元件对偶成并臂元件（比如串联的R对偶成并联的电导；串联的电感对偶成并联的电容；并联的电容对偶成串联的电感）；
结点对偶成网格（这个可能还和图论中的对偶图相关）
开路电压对偶短路电流（是指最终测量的因变量），自变量：恒压源对偶恒流源

### 分压与分流
![[Pasted image 20240312160825.png]]
分压系数$v_1(t)=\frac{R_1}{R_1+R_2}v_{in}(t)$对偶分流系数$i_1(t)=\frac{G_1}{G_1+G_2}i_{in}(t)$
**电阻分压和分流的对偶表述：**
- 串联总电阻等于串联分电阻之和，串联电阻上的分压系数为该电阻阻值和总电阻阻值之比
- 并联总电导等于并联分电导之和，并联电导上的分流系数为该电导导值和总电导导值之比
# 三.等效电路
如果两个电路网络从端口看入具有一致的端口伏安特性关系，则为等效电路；**用结构简单、格式规范的等效电路替代原电路网络进行电路分析**是最基本的*电路简化分析方法*
等效方法有两种：一种是根据实际存在的结构，抽象成对应的电路元件，进行等效；
第二种是直接在端口测量得到某个网络的伏安特性方程，根据这个方程进行等效
具体来说，第二种等效有一些规则：
- 电压如果是多个电压之和，就等效出多个元/器件串联
- 电流如果是多个电流之和，等效出多个元/器件并联

# 四.单端口等效：
## 简单串并联：
串联电阻相加，串联电压相加；并联电导相加，并联电流相加
![[单端口等效：简单串并联电路.png]]
PS：使用上图的公式写法可以更加清楚简明地表示出各电阻之间的串并联关系，也方便后面的计算
## 非简单串并联：
![[单端口等效：复杂电路.png]]
### 加压求流、加流求压：
使用[[电路分析基本方法：加压求流法、加流求压法|加压求流和加流求压]]的测试方法，获得网络端口电压、电流关系，由端口电压电流关系，确知网络在端口处的等效电路
PS：原理是**根据端口测量出来的端口伏安特性进行电路等效，本质上无需知道网络内部具体结构**。
以上图为例：
首先确定是加流求压的方法，那么**现在$i_{test}$就是已知量**，我需要用含有$i_{test}$的式子（且只包含已知量：电阻）**表示$v_{test}$这个未知量**。
1.未知量的设定：再设定未知量（$i_1,i_5$）并配合KCL设定支路电流未知量（这里使用**支路电流法**，可以减少未知量个数）
![[加流求压、加压求流方法.png]]
2.电路方程的列写：列写KVL方程（并直接把GOL代入其中）
$$\begin{aligned}
&(1)\quad i_{_1}R_{_1}+\left(i_{_1}-i_{_5}\right)R_{_2}=v_{_{test}} \\
&(2) \quad i_1R_1-\bigl(i_{test}-i_1\bigr)R_3+i_5R_5=0 ：逆时针列KVL (2)\\
&(3)\quad -\left(i_1-i_5\right)R_2+i_5R_5+\left(i_{test}-i_1+i_5\right)R_4=0：顺时针列KVL(3)
\end{aligned}$$
3.求解：利用(2)(3)式求出$i_1和i_t、i_5和i_t的关系（分别消去i_5和i_1得到剩下两个变量之间的关系）$然后代入(1)式求出$i_t和v_t的关系：$$$R_{AB}=\frac{v_{test}}{i_{test}}=\frac{R_5(R_1+R_2)(R_3+R_4)+R_2R_4(R_1+R_3)+R_1R_3(R_2+R_4)}{R_5(R_1+R_2+R_3+R_4)+(R_2+R_4)(R_1+R_3)}$$
### 解正确性的判定方法：
1.量纲检查：
不同量纲的数值不可加减比较，sin、cos、exp、log这些函数的自变量无量纲（弧度是个特例，不算是严格的物理的量纲）
上式求得的$R_{AB}$的量纲的确是欧姆$\ohm$
2.极端情况验证：
因为可以明显看出这个结构是因为$R_5$的存在才变得非常复杂，因此只需要考虑$R_5$的极端取值即可。
![[极端情况分析：验证结果的正确性.png]]
$$\begin{aligned}R_{_{AB}}&\stackrel{R_5=0}{=}\frac{R_2R_4\left(R_1+R_3\right)+R_1R_3\left(R_2+R_4\right)}{\left(R_2+R_4\right)\left(R_1+R_3\right)}=R_2\parallel R_4+R_1\parallel R_3\\\\R_{_{AB}}&\stackrel{R_5=\infty}{=}\frac{R_5\left(R_1+R_2\right)\left(R_3+R_4\right)}{R_5\left(R_1+R_2+R_3+R_4\right)}=\left(R_1+R_2\right)\parallel\left(R_3+R_4\right)\end{aligned}$$
PS：两个验算可以证伪，不能证明。但即使换另外其他方法重新推导，获得完全一致的结论，也不能100%证明公式推导是完全正确的！**两个检查比重新推导一遍公式更快捷可靠**！

## 对解进行分析：(引入替代定理)
惠斯通电桥（Wheatstone Bridge）
$$\begin{bmatrix}i_1\\i_s\end{bmatrix}=\dfrac{\begin{bmatrix}\left(R_2+R_4\right)R_3+R_5\left(R_3+R_4\right)\\R_2R_3-R_1R_4\end{bmatrix}}{\left(R_1+R_3\right)\left(R_2+R_5\right)+R_5\left(R_1+R_2+R_3+R_4\right)}i_{test}$$
当$R_2R_3=R_1R_4$时，求出$i_5=0$，是电桥平衡条件。
此时$R_5$支路电压为0，电流为0，那么能否用短路（电压为0）或者开路（电流为0）替代？替代定理保证这样做可以
# 替代定理：
如果一个电路网络可分割为两个单端口网络的对接关系，假设该对接端口的端口电压$V_p$**或**端口电流$I_p$通过某种方式已经确知，则可以用**理想恒压源**$V_s=V_p$，或**理想恒流源**$I_s=I_p$替代其中一个单端口网络，而**另一个单端口网络内部的电压、电流均维持不变**。（这里要求**两个单端口网络之间除了该对接端口的连接关系外，没有其他作用关系**，因为如果有相互作用关系，会带来受控源）
NOTICE：这里端口电压或者电流的"已知"**不是必须完全明确**，**假设已知**也是可以的。使用未知量表示即可（或者我认为这是一个已知量，用来表示其他的量也是可以的，**在电电中不能认为已知量就必须是给定的或者可以确定的数值，完全可以认为某一个是已知量，然后用这些已知量去表示其他的未知量**）

回到Wheatstone电桥中，我们由此可以把$R_5$支路用短路（因为电压为0）或者开路（因为电流为0）替代

## 例2：含源电路的端口等效（引入叠加定理）
![[含源电路的端口等效.png]]
这个加流求压要注意我的测试端口给定的电压和电流的参考方向（以及因为我给的是一个用来测试的独立源，所以关联参考方向是源关联参考方向）
$i_1 R_1+\left(i_1-i_{\text {test }}\right) R_2=v_s\quad (1)$
$i_3 R_3+\left(i_3+i_{\text {test }}\right) R_4=v_s\quad (2)$
$-i_1 R_1+i_3 R_3+v_{\text {test }}=0\quad (3)$

$\begin{aligned} & i_1=\frac{1}{R_1+R_2} v_s+\frac{R_2}{R_1+R_2} i_{\text {test }} \\ & i_3=\frac{1}{R_3+R_4} v_s-\frac{R_4}{R_3+R_4} i_{\text {test }} \\ & v_{\text {test }}=i_1 R_1-i_3 R_3 \\ & = (\frac{R_1}{R_1+R_2}-\frac{R_3}{R_3+R_4}) v_s+\left(\frac{R_1 R_2}{R_1+R_2}+\frac{R_3 R_4}{R_3+R_4}\right) i_{\text {test }}\end{aligned}$
也是先解出$i_1、i_3和v_S、i_{test}的关系，然后代入到(3)中得出i_{test}和v_S、v_{test}的关系$
观察结果：不仅输出电压，中间变量都是两个源的某种线性叠加关系。这引发我们关注**叠加定理**

# 叠加定理：
表述1：对于**线性电路**，如果电路中有**多个独立源同时激励**，则**总响应为分响应之和**
分响应：单独一个源起作用，其他源不起作用时得到的响应
源不起作用，又称**源置零**，即将**恒压源短路处理（电压归零）、恒流源开路处理（电流归零）** 
表述2：对于**线性电路**，如果电路中有**多个独立源同时激励**，则**总响应可以表述为这些激励源的线性叠加模式**。
$$\begin{aligned} &r=r_1+r_2+...+r_n=f(e_1,e_2,...,e_n)\\ 
&=f(e_1,0,...,0)+f(0,e_2,0,...,0)+...+f(0,0,...,e_n)\quad 对应表述1\\
&= f(1,0,...,0)e_1 + f(0,1,0,...,0)e_2+...+f(0,...,1)e_n\quad f(1,0,...,0)是一个常数，其他也类似\\
&=\alpha_1e_1+\alpha_2e_2+...+\alpha_ne_n \quad对应表述2\\
\end{aligned}$$
对比上面两个表述，表述1和2都说明了叠加这一概念，但是表述1表明总响应等于分响应之和（比如求响应电流，就是多个激励源分别导致的分响应电流之和）；表述2进一步说明了结果的一种表述方式：可以利用**激励源（恒压源的电压或者恒流源的电流）的线性叠加**得到（比如一个激励源是恒压源：响应电流表达式中也一定包括这个恒压源前面乘上一个其对应的等效电导）

## 上面含源电路的等效电路：
$$v_{test}= (\frac{R_1}{R_1+R_2}-\frac{R_3}{R_3+R_4}) v_s+\left(\frac{R_1 R_2}{R_1+R_2}+\frac{R_3 R_4}{R_3+R_4}\right) i_{\text {test }}=v_{S,eq}+R_{S,eq}·i_{test}$$
![[含源电路的等效电路.png]]
结论：对线性电阻电路进行 *加流求压* 分析端口电压电流关系，该关系所对应的等效电路是戴维南电压源。
## 解的深度解析：
观察$v_{test}= (\frac{R_1}{R_1+R_2}-\frac{R_3}{R_3+R_4}) v_s+\left(\frac{R_1 R_2}{R_1+R_2}+\frac{R_3 R_4}{R_3+R_4}\right) i_{\text {test }}=v_{S,eq}+R_{S,eq}·i_{test}$
可以发现：**求等效电压源时，令端口开路看开路电压；求等效内阻时，让内部源不起作用，计算从端口看入的电流**
综上，我们得到：
- **内部无源的单端口线性电阻网络，其等效电路必然是一个线性电阻**
- 内部含独立源的单端口线性电阻网络，则可等效为**戴维南电压源（加流求压）**，或者**诺顿电流源（加压求流）**。而且等效为戴维南电压源来**求等效电压源时，令端口开路看开路电压；求等效内阻时，令内部独立源不起作用看端口等效电阻** 
由此引出**戴维南-诺顿定理**：
# 戴维南-诺顿定理：
[[戴维南-诺顿定理|戴维南定理]]（Thevenin's Theorem）
一个包含独立电源的**单端口线性电阻网络**，其**端口等效电路可表述为一个恒压源和一个电阻的串联**，**源电压为端口开路电压**，**串联电阻为电阻网络内所有独立电源置零时的端口等效电阻**. 
[[戴维南-诺顿定理|诺顿定理]]（Norton's Theorem）
一个包含独立电源的**单端口线性电阻网络**，其**端口等效电路可表述为一个恒流源和一个电阻的并联**，**源电流为端口短路电流**，**并联电阻为电阻网络内所有独立电源置零时的端口等效电阻**。
PS：
- **独立源置零：独立电压源短路，独立电流源开路**
- 这里特别要说明是独立源置零，因为**受控源需要结合具体的控制源情况进行分析**，不能一股脑的全部置零（但如果控制源置零了，那么相应的受控源自然也置零）
- 注意，**恒压源只能串联电阻**，因为并联电阻之后还是原先的恒压源，从端口看入没有任何区别；同理**恒流源只能并联电阻**，串联电阻后还是原先的恒流源，端口看入没有区别。

### NOTICE：电路定律的适用条件
叠加原理和戴维南定理只适用于线性系统，但是替代定理不仅适用于线性系统。
# 五. 二端口网络等效
单端口网络的端口伏安特性关系可以通过在端口加压加流测试获得，并因此给出其戴维南等效或诺顿等效，**二端口网络的端口伏安特性**同样**可以通过在端口加压加流测试获得，从而进而获得二端口网络的等效电路**。
二端口网络有两个端口，因而需要两个测试源：因此有6种测量方案：(1)两端同时加压，(2)两端同时加流，(3)两端一压一流，(4)两端一流一压，(5)端口1加压加流，(6)端口2加压加流
以最简单的电阻分压网络二端口分别加压加流为例说明对网络如何测试、对测试结果又如何进行解释的：
![[二端口网络等效.png]]
## 叠加定理的应用：
对端口1进行加压测试，**此时把端口2看做开路**（因为已知端口2接的是一个电流源，端口1是一个电压源）
![[对端口1加压测试，端口2视为开路.png]]
$v_1(t)=v_S(t)：端口1加测试电压$   $i_1(t)=\frac{1}{R_1+R_2}v_S(t)$  从端口1 看入电阻为$R_1+R_2$
$\nu_2(t)=\frac{\nu_s\left(t\right)}{R_1+R_2}R_2=\frac{R_2}{R_1+R_2}\nu_1(t)$    $i_2(t)=0$（因为端口2现在是开路，所以电流为0）
测得端口2的开路电压为端口1的电压的分压；端口1电压对端口2电压的影响因子为分压系数

对端口2进行加流测试，**此时把端口1看做短路**（因为端口1接的是一个恒压源）
![[端口2进行加流测试，此时端口1被看作短路.png]]
$i_2(t)=i_S(t)：端口2加测试电流$    $v_2(t)=\frac{R_1R_2}{R_1+R_2}i_S(t)=\frac{i_2(t)}{G_1+G_2}$ 测得端口2看入电阻为$R_1||R_2$
$-i_1(t)=G_1\nu_2(t)=G_1\frac{i_2(t)}{G_1+G_2}=\frac{G_1}{G_1+G_2}i_2(t)$   $v_1(t)=0$
测得端口1短路电流为端口2电流的分流；端口2电流对端口1电流的影响因子为分流系数（而且和1的参考方向相反）

**由叠加定理有，作用总响应等于单独作用分响应之和**：
![[同时作用时总响应等于各分响应之和.png]]
$$\begin{aligned}v_1\left(t\right)&=v_s\left(t\right)&i_1\left(t\right)&=-\frac{G_1}{G_1+G_2}i_2\left(t\right)+\frac{1}{R_1+R_2}v_1\left(t\right)\\\\v_2\left(t\right)&=\frac{1}{G_1+G_2}i_2\left(t\right)+\frac{R_2}{R_1+R_2}v_1\left(t\right)&i_2\left(t\right)&=i_s\left(t\right)\end{aligned}$$
# 受控源的引入：
由上面的分析可得：端口1接入一个恒压源$v_S(t)=v_1(t)$后，电流是两部分之和，所以我们可以等效成两部分并联：
$i_1(t)=-\frac{G_1}{G_1+G_2}i_2(t)+\frac{1}{R_1+R_2}v_1(t)$
$-\frac{G_1}{G_1+G_2}i_2(t)$这部分是恒流源（因为从端口1看来，这个电压与端口1的电压/电流无关），但不是独立源，受到端口2的电流$i_2(t)$控制，因此是一个流控流源。电流增益系数$A_i$是$-\frac{G_1}{G_1+G_2}$（负号源自这个受控源产生电流和端口1参考方向是相反的）

同理分析端口2的电压$v_2(t)$，是两部分电压之和，所以等效为两部分串联：
$v_2(t)=\frac1{G_1+G_2}i_2(t)+\frac{R_2}{R_1+R_2}v_1(t)$
$\frac{R_2}{R_1+R_2}v_1$这部分是恒压源，但不是独立源，是压控压源。
![[受控源的引入、描述方程的等效电路表述.png]]
左边$\frac{R_2}{R_1+R_2}i_2(t)$其实就是$\frac{G_1}{G_1+G_2}i_2(t)$，个人觉得使用后者更能统一形式。（不过用前者似乎好记一些？）
## 小结：
**受控源是端口间作用关系的抽象描述**，只要多端口网络端口间存在作用关系，多端口网络端口描述方程中就存在对这种关系的描述，这个关系描述用等效电路描述就是受控源。
受控源的引入规范了对多端口网络的电路研究，大多时候可以将复杂问题简单化
同一电路，同时可以有多种表述：
$$\begin{aligned}i_1&=-\frac{R_2}{R_1+R_2}i_2+\frac{1}{R_1+R_2}v_1\quad\longrightarrow\quad v_1=(R_1+R_2)i_1+R_2i_2 \\v_2&=\frac{R_1R_2}{R_1+R_2}i_2+\frac{R_2}{R_1+R_2}v_1\quad\longrightarrow\quad v_2=R_2i_1+R_2i_2\end{aligned}\quad $$
左式是以$v_1和i_2$为自变量，以$i_1和v_2$为因变量的端口伏安特性描述
可以很方便的转换为右式这样以$i_1,i_2$为自变量，$v_1,v_2$为因变量的端口伏安特性描述
这样对应的等效电路就成了两个**流控压源**
![[Pasted image 20240312193757.png]]

further understanding:
二端口网络最重要的方法就是**等效原理和叠加原理** 
![[1 1.jpg]]
![[2 1.jpg]]

## 四种理想受控源：
压控压源（VCVS，voltage controlled voltage source）：
$A_V$ 电压控制系数：电压增益/放大系数
压控流源（VCCS ，voltage controlled current source ）：
$G_m$ 跨导控制系数；跨导增益/放大倍数
流控流源（CCCS ，current controlled current source ）：
$A_i$  电流控制系数；电流增益/放大倍数
流控压源（CCVS ，current controlled voltage source ）：
$R_m$ 跨阻控制系数；跨阻增益/放大倍数
![[四种理想受控源.png]]
以受控源为核心的四种**基本单向放大器**：
这里的**单向放大**是指只是从一端（控制源部分）到另一端（受控源部分）的放大，没有反过来的放大能力。
![[四种基本放大器.png]]
描述线性放大器的基本参数：
增益：端口传递关系，也称放大倍数（包括**电压增益$A_v$，跨导增益$G_m$，电流增益$A_i$，跨阻增益$R_m$**）
阻抗：端口阻抗特性（输入电阻$R_i$，输出电阻$R_o$）

## 小结：
- 通过在端口加压求流、加流求压对电路网络进行测量，获得端口电压电流关系，进而建立等效电路，等效电路法是最基本的电路简化分析方法
- 加压测流：以电压为控制变量，电流为因变量，获得的是诺顿等效（内部独立源等效出的恒流源）；加流测压：以电流为控制变量，电压为因变量，获得的是戴维南等效（内部独立源等效出的恒压源）。也就是谁作为因变量，就是对应的等效。
和受控源相关的知识点：
- 受控源的**信号和能量均来自电路中的独立源，电路符号有别于独立源** 
- 叠加定理中，总响应等于分响应之和，**分响应的激励只能是独立源，不包含受控源，受控源是对作用关系的描述，不是独立的激励**；
- 戴维南定理中戴维南内阻是独立源不起作用（置零）时的端口阻抗，网络内的独立源需要置零，**但受控源代表的支路间的作用关系始终存在，不能置零**，因而在求内阻时必须保留受控源（然后根据实际情况分析受控源的情况，有可能受控源最后也相当于置零，不过也可能不是，反正不能盲目置零）

器件基础：二极管伏安特性
